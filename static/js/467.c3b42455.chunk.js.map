{"version":3,"file":"static/js/467.c3b42455.chunk.js","mappings":"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","sources":["firebase.js","pages/List.js"],"sourcesContent":["import { initializeApp } from \"firebase/app\";\r\n// firestore를 불러오는 모듈을 임포트\r\nimport { getFirestore } from \"firebase/firestore\"\r\n\r\n// Firebase 구성 정보 설정\r\nconst firebaseConfig = {\r\n    apiKey: process.env.REACT_APP_apiKey,\r\n    authDomain: process.env.REACT_APP_authDomain,\r\n    projectId: process.env.REACT_APP_projectId,\r\n    storageBucket: process.env.REACT_APP_storageBucket,\r\n    messagingSenderId: process.env.REACT_APP_messagingSenderId,\r\n    appId: process.env.REACT_APP_appId\r\n};\r\n\r\n  // Firebase 인스턴스 초기화\r\nconst app = initializeApp(firebaseConfig);\r\n\r\n// firestore 객체 생성\r\nconst db = getFirestore(app);\r\n// firestore export\r\nexport {db}","import { db } from \"../firebase\";\r\nimport { Buffer } from \"buffer\";\r\nimport { query, orderBy, onSnapshot, collection } from \"firebase/firestore\";\r\nimport { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Wrapper = styled.div`\r\n  padding: 5vh 0 5vh 0;\r\n  height: auto;\r\n  width: 60vw;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: #ccccee;\r\n  font-family: 'Noto Serif', serif; /* 명조체로 설정 */\r\n`;\r\n\r\nconst TableBack = styled.div`\r\n  padding: 1vw;\r\n  height: auto;\r\n  width: 50vw;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: #ffffff;\r\n  font-family: 'Noto Serif', serif; /* 명조체로 설정 */\r\n`;\r\n\r\nconst StyledTable = styled.table`\r\n  border-collapse: collapse; /* 테이블 셀 간 경계 겹침 방지 */\r\n  width: 100%;\r\n  font-family: 'Noto Serif', serif; /* 명조체로 설정 */\r\n`;\r\n\r\nconst StyledTdTh = styled.td`\r\n  border: 1px solid black; /* 테이블 셀에 검정 선 추가 */\r\n  padding: 8px;\r\n  text-align: center;\r\n  font-family: 'Noto Serif', serif; /* 명조체로 설정 */\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  font-size: 2rem;\r\n  color: #333;\r\n  margin-bottom: 1rem;\r\n  font-family: 'Noto Serif', serif; /* 명조체로 설정 */\r\n`;\r\n\r\nconst Description = styled.p`\r\n  font-size: 1rem;\r\n  color: #555;\r\n  margin-bottom: 2rem;\r\n  text-align: center;\r\n  font-family: 'Noto Serif', serif; /* 명조체로 설정 */\r\n`;\r\n\r\nconst LoadingText = styled.p`\r\n  font-size: 1.2rem;\r\n  color: #666;\r\n  font-family: 'Noto Serif', serif; /* 명조체로 설정 */\r\n`;\r\n\r\nfunction List() {\r\n  const [data, setData] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    listCall();\r\n  }, []);\r\n\r\n  const listCall = async () => {\r\n    const q = query(collection(db, \"List\"), orderBy(\"time\"));\r\n    onSnapshot(q, (snapshot) => {\r\n      const contentArray = snapshot.docs.map((doc) => ({\r\n        id: doc.id,\r\n        ...doc.data(),\r\n      }));\r\n\r\n      const transformedData = contentArray.map((content) => {\r\n        const { sign, name, phone, add, birth } = content;\r\n\r\n        // 이미지 파일 변환\r\n        const decodedURL = sign.replace(/^data:image\\/\\w+;base64,/, \"\");\r\n        const buf = Buffer.from(decodedURL, \"base64\");\r\n        const blob = new Blob([buf], { type: \"image/png\" });\r\n        const file = new File([blob], `${name}_${phone}.png`, { type: \"image/png\" });\r\n        const url = URL.createObjectURL(file);\r\n\r\n        return {\r\n          name,\r\n          add,\r\n          birth,\r\n          phone,\r\n          sign: url,\r\n        };\r\n      });\r\n\r\n      setData(transformedData);\r\n      setLoading(false);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      <TableBack>\r\n        <Title>탄원서 동의명부</Title>\r\n        <Description>\r\n          본인은 상기 탄원인과 뜻을 같이하여 피고인 최정원이 바른길을 갈 수 있도록 선도하며, 교화에 적극적으로 동참하고 협조하겠습니다. 아무쪼록 재판장님과 검사님의 너그러운 선처 부탁드립니다.\r\n        </Description>\r\n\r\n        {loading ? (\r\n          <LoadingText>로딩 중...</LoadingText>\r\n        ) : (\r\n          <StyledTable>\r\n            <thead>\r\n              <tr>\r\n                <StyledTdTh>순번</StyledTdTh>\r\n                <StyledTdTh>성명</StyledTdTh>\r\n                <StyledTdTh>주소</StyledTdTh>\r\n                <StyledTdTh>생년월일</StyledTdTh>\r\n                <StyledTdTh>전화번호</StyledTdTh>\r\n                <StyledTdTh>서명</StyledTdTh>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {data.length > 0 ? (\r\n                data.map((item, index) => (\r\n                  <tr key={item.id}>\r\n                    <StyledTdTh>{index + 1}</StyledTdTh>\r\n                    <StyledTdTh>{item.name}</StyledTdTh>\r\n                    <StyledTdTh>{item.add}</StyledTdTh>\r\n                    <StyledTdTh>{item.birth}</StyledTdTh>\r\n                    <StyledTdTh>{item.phone}</StyledTdTh>\r\n                    <StyledTdTh>\r\n                      <img\r\n                        src={item.sign}\r\n                        alt=\"Blob File\"\r\n                        style={{ width: \"5vw\", height: \"5vw\" }}\r\n                      />\r\n                    </StyledTdTh>\r\n                  </tr>\r\n                ))\r\n              ) : (\r\n                <tr>\r\n                  <StyledTdTh colSpan=\"6\">작성된 명부가 없습니다.</StyledTdTh>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </StyledTable>\r\n        )}\r\n      </TableBack>\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nexport default List;\r\n"],"names":["app","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","db","getFirestore","Wrapper","styled","div","_templateObject","_taggedTemplateLiteral","TableBack","_templateObject2","StyledTable","table","_templateObject3","StyledTdTh","td","_templateObject4","Title","h1","_templateObject5","Description","p","_templateObject6","LoadingText","_templateObject7","data","setData","useState","loading","setLoading","useEffect","listCall","async","q","query","collection","orderBy","onSnapshot","snapshot","transformedData","docs","map","doc","_objectSpread","id","content","sign","name","phone","add","birth","decodedURL","replace","buf","Buffer","from","blob","Blob","type","file","File","concat","URL","createObjectURL","_jsx","children","_jsxs","length","item","index","src","alt","style","width","height","colSpan"],"sourceRoot":""}